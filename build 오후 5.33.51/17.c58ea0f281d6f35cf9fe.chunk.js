(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{815:function(n,t,e){"use strict";e.r(t);var r=e(676),a=e(678),i=e(677),u=e.n(i),c=(e(704),e(1)),o=e.n(c),l=(i=e(33),e(105)),s=e(104);function b(){var n=Object(s.a)(["\n  query getAllBrandList {\n    getAllBrandList {\n      _id\n      thumbnail\n    }\n  }\n"]);return b=function(){return n},n}function f(){var n=Object(s.a)(["\n  query getAllStoryViewList {\n    getAllStoryViewList {\n      _id\n      title\n      content\n      thumbnail\n    }\n  }\n"]);return f=function(){return n},n}function g(){var n=Object(s.a)(["\n  query getAllStoreByImportant {\n    getAllStoreByImportant {\n      _id\n      title\n      address\n      thumbnailPath\n      att\n      lnt\n      tel\n    }\n  }\n"]);return g=function(){return n},n}function d(){var n=Object(s.a)(["\n  mutation addAcceptRecord($date: String!) {\n    addAcceptRecord(date: $date)\n  }\n"]);return d=function(){return n},n}function O(){var n=Object(s.a)(["\n  query getMobileMainBanner {\n    getMobileMainBanner {\n      _id\n      imagePath\n      content\n      title\n    }\n  }\n"]);return O=function(){return n},n}function j(){var n=Object(s.a)(["\n  query getMainBanner {\n    getMainBanner {\n      _id\n      imagePath\n      content\n      title\n    }\n  }\n"]);return j=function(){return n},n}var m=Object(l.gql)(j()),A=Object(l.gql)(O()),S=Object(l.gql)(d()),p=Object(l.gql)(g()),y=Object(l.gql)(f()),h=Object(l.gql)(b()),v=e(691),B=Object(i.a)((function(){return Promise.all([e.e(0),e.e(4),e.e(5),e.e(66)]).then(e.bind(null,786))}));t.default=function(n){var t=n.history,e=(f=Object(l.useQuery)(m)).data,i=(s=Object(l.useQuery)(A)).data,s=(n=(O=Object(l.useQuery)(p)).data,(f=Object(l.useQuery)(y)).data),b=(O=Object(l.useQuery)(h)).data,f=Object(l.useMutation)(S),g=Object(a.a)(f,1)[0],d=function(){var n=Object(r.a)(u.a.mark((function n(){var t,e,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(r=new Date).getFullYear(),e=1+r.getMonth(),r=r.getDate(),r=t+("00"+e).slice(-2)+(r=("00"+r).slice(-2)),n.next=9,g({variables:{date:r}});case 9:return n.next=13,sessionStorage.setItem("ALKJSDLJOQIUALSX","LAZKNJXOIUQASDSA");case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(c.useEffect)((function(){"LAZKNJXOIUQASDSA"!==sessionStorage.getItem("ALKJSDLJOQIUALSX")&&d()}),[]),Object(c.useEffect)((function(){v.animateScroll.scrollTo(0)}),[]);var O=Object(c.useState)(null),j=(O=(f=Object(a.a)(O,2))[0],f[1]);return Object(c.useEffect)((function(){if(b){for(var n=b.getAllBrandList,t=parseInt(n.length%3==0?n.length/3:n.length/3+1),e=[],r=0;r<t;r++){for(var a=[],i=3*r;i<3*(r+1);i++)n[i]&&a.push(n[i]);e.push(a)}j(e)}}),[b]),o.a.createElement(B,{currentBrand:O,sDatum:n&&n.getAllStoreByImportant,vDatum:s&&s.getAllStoryViewList,bDatum:b&&b.getAllBrandList,mainBannerData:e&&e.getMainBanner,mobileBannerData:i&&i.getMobileMainBanner,moveLinkHandler:function(n){sessionStorage.setItem("info",JSON.stringify(n)),t.push("/info")}})}}}]);