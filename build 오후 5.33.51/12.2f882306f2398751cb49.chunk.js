(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{749:function(e,t,a){"use strict";var n=a(678),r=a(1);t.a=function(e){e=Object(r.useState)(e);var t=(e=Object(n.a)(e,2))[1];return{value:e[0],onChange:function(e){t(e.target.value)},setValue:t}}},817:function(e,t,a){"use strict";a.r(t);var n=a(676),r=a(678),u=(a(675),a(677)),c=a.n(u),i=a(1),l=a.n(i),o=(u=a(33),a(105)),s=a(104);function b(){var e=Object(s.a)(["\n  query getFaqTotalPage($searchValue: String!, $limit: Int!) {\n    getFaqTotalPage(searchValue: $searchValue, limit: $limit)\n  }\n"]);return b=function(){return e},e}function f(){var e=Object(s.a)(["\n  query getFaqDetail($searchValue: String!, $limit: Int!, $currentPage: Int!) {\n    getFaqDetail(\n      searchValue: $searchValue\n      limit: $limit\n      currentPage: $currentPage\n    ) {\n      _id\n      sort\n      type\n      question\n      answer\n    }\n  }\n"]);return f=function(){return e},e}function m(){var e=Object(s.a)(["\n  mutation createStoreContact(\n    $name: String!\n    $loc: String!\n    $mobile: String!\n    $mayPay: String!\n    $email: String!\n    $isExistStore: Boolean!\n    $description: String!\n    $isAgreement: Boolean!\n  ) {\n    createStoreContact(\n      name: $name\n      loc: $loc\n      mobile: $mobile\n      mayPay: $mayPay\n      email: $email\n      isExistStore: $isExistStore\n      description: $description\n      isAgreement: $isAgreement\n    )\n  }\n"]);return m=function(){return e},e}var g=Object(o.gql)(m()),j=Object(o.gql)(f()),v=Object(o.gql)(b()),O=a(691),p=a(749),S=a(179),$=a(685),d=(a(686),Object(u.a)((function(){return Promise.all([a.e(1),a.e(0),a.e(4),a.e(5),a.e(45)]).then(a.bind(null,790))})));t.default=function(e){var t=Object(i.useRef)(),a=Object(i.useRef)(),u=Object(p.a)(""),s=Object(p.a)(""),b=Object(p.a)(""),f=Object(p.a)(""),m=Object(p.a)(""),h=Object(p.a)(""),q=Object(p.a)(""),y=Object(p.a)(""),V=Object(p.a)(""),P=Object(i.useState)(!1),E=(C=Object(r.a)(P,2))[0],T=C[1],w=Object(i.useState)(!1),F=(H=Object(r.a)(w,2))[0],A=H[1],D=(e=Object(i.useState)(null),(P=Object(r.a)(e,2))[0]),x=P[1],C=Object(i.useState)(0),H=(w=Object(r.a)(C,2))[0],I=w[1],k=(e=Object(i.useState)(0),C=(P=Object(r.a)(e,2))[0],P[1]),M=(w=Object(i.useState)(15),P=(e=Object(r.a)(w,2))[0],w=Object(i.useState)(null),(e=Object(r.a)(w,2))[0]),R=e[1],B=Object(p.a)(""),Q=(w=Object(i.useState)(""),w=(e=Object(r.a)(w,2))[0],e[1]),J=(e=Object(o.useQuery)(j,{variables:{limit:P,currentPage:C,searchValue:w}})).data,L=e.refetch,N=(P=Object(o.useQuery)(v,{variables:{searchValue:w,limit:P}})).data,_=P.refetch,z=(P=Object(o.useMutation)(g),Object(r.a)(P,1)[0]),G=function(){var e=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({variables:{name:u.value,loc:h.value,mobile:s.value,mayPay:q.value,email:(b.value+"@"+m.value=="직접 입력"?f:m).value,isExistStore:y.value,description:V.value,isAgreement:!0}});case 2:e.sent.data.createStoreContact?(S.b.success("가맹점 상담을 신청하셨습니다."),u.setValue(""),s.setValue(""),b.setValue(""),f.setValue(""),m.setValue(""),h.setValue(""),q.setValue(""),y.setValue(""),V.setValue(""),T(!1)):S.b.error("잠시 후 다시 시도해주세요.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){L(),_(),O.animateScroll.scrollTo(0)}),[]),Object(i.useEffect)((function(){x(null)}),[C]),Object(i.useEffect)((function(){var e;J&&!D&&(e=J.getFaqDetail.map((function(){return!1})),x(e))}),[J]),Object(i.useEffect)((function(){if(N){for(var e=[],t=0;t<N.getFaqTotalPage;t++)e.push(t);R(e)}}),[N]),l.a.createElement(d,{conRef:t,faqRef:a,inputName:u,inputMobile:s,inputEmail:b,inputEmailDomain:f,selectEmailDomain:m,inputLoc:h,inputMayPay:q,inputIsStore:y,inputDesc:V,isAgree:E,setIsAgree:T,isToggle:F,setIsToggle:A,createRequestHandler:function(){u.value&&u.value.trim()?s.value&&s.value.trim()?b.value&&b.value.trim()?m.value&&m.value.trim()?"직접 입력"!==m.value||f.value&&f.value.trim()?h.value&&h.value.trim()?q.value&&q.value.trim()?V.value&&V.value.trim()?E?Object($.confirmAlert)({title:"가맹 상담",message:"가맹점 상담을 작성하시겠습니까?",buttons:[{label:"취소",onClick:function(){return!1}},{label:"확인",onClick:function(){return G()}}]}):S.b.error("개인정보취급방침에 동의해주세요."):S.b.error("문의 내용을 입력해주세요."):S.b.error("예상 창업 비용을 입력해주세요."):S.b.error("창업희망지역을 입력해주세요."):S.b.error("이메일을 입력해주세요."):S.b.error("이메일을 선택해주세요."):S.b.error("이메일을 입력해주세요."):S.b.error("연락처를 입력해주세요."):S.b.error("이름을 입력해주세요.")},inputSearch:B,pages:M,currentPage:C,actionFaqView:D,currentType:H,faqDatum:J&&J.getFaqDetail,toggleFaqAnswer:function(e,t){var a=D.map((function(t,a){return a===e?!t:t}));document.getElementById("faq-answer-".concat(e)).innerHTML=t,x(a)},changeFaqTypeHandler:function(e){x(null),I(e)},prevAndNextPageChangeHandler:function(e){e<0?S.b.error("첫 페이지 입니다."):M.length-1<e?S.b.error("마지막 페이지 입니다."):k(e)},changePageHandler:function(e){k(e)},searchHandler:function(){k(0),Q(B.value)},scrollMoveHandler:function(e){"가맹상담"===e&&t.current?O.animateScroll.scrollTo(t.current.offsetTop-100):"가맹FAQ"===e&&a.current&&O.animateScroll.scrollTo(a.current.offsetTop-100)}})}}}]);