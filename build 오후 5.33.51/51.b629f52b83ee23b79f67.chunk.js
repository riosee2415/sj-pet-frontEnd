(window.webpackJsonp=window.webpackJsonp||[]).push([[51,8],{750:function(e,t,n){"use strict";n.r(t);var a=n(675),r=(a=n(1),n.n(a)),i=n(744);t.default=function(e){var t=e.tabs,n=e.currentTab,a=e.setCurrentTab;return r.a.createElement(i.G,{isTab:!0,margin:"0px 0px 40px 0px",dr:"row",al:"center",ju:"flex-start"},t&&t.map((function(e,t){return r.a.createElement(i.A,{isActive:n===t,key:t,onClick:function(){return a(t)}},e)})))}},806:function(e,t,n){"use strict";n.r(t);var a=n(676),r=n(678),i=n(677),c=n.n(i),l=(n(690),n(675),n(693),n(682),n(1)),u=n.n(l),o=n(104),p=n(744),m=n(762),f=n(750),s=(i=n(679),n.n(i)),x=n(746),d=(i=n(53),n(680));function b(){var e=Object(o.a)(["\n  background-image: url(",");\n  background-position: center center;\n"]);return b=function(){return e},e}function g(e){var t=e.currentTab,n=e.setCurrentTab,a=e.isLoading,r=e.fileRef,i=e.title,c=e.setTitle,l=e.content,o=e.setContent,b=e.link,g=e.setLink,j=e.mobileMainBannerDatum,M=e.infoUpdateHandler;e=e.fileChangeHandler;return Object(d.a)("ADMIN | 모바일 베너"),u.a.createElement(p.F,{minWidth:"1000px",al:"flex-start",ju:"flex-start"},u.a.createElement(s.a,{right:!0},u.a.createElement(m.default,{text:"모바일 베너 관리"}),u.a.createElement(f.default,{tabs:E,currentTab:t,setCurrentTab:n})),u.a.createElement(s.a,{bottom:!0},u.a.createElement(p.G,{minWidth:"1344px",al:"flex-start",ju:"flex-start"},u.a.createElement(p.G,null,u.a.createElement(p.n,{margin:"10px 0px",padding:"10px 0px"},u.a.createElement(p.o,{padding:"0px 10px",margin:"5px 0px"},"이미지 사이즈(비율)은 가로 400px, 세로 650px을 권장합니다."),u.a.createElement(p.o,{padding:"0px 10px",margin:"5px 0px"},"사진 이미지 비율이 상이할 경우 화면에서 출력될 때 올바르게 출력되지 않을 수 있습니다."))),u.a.createElement(p.G,null,u.a.createElement(p.p,{width:"400px",height:"650px",margin:"0px auto",isBorder:!0,src:j&&j[t].imagePath}),u.a.createElement(p.G,{width:"400px",al:"flex-end",ju:"flex-end",margin:"10px 0px"},u.a.createElement(p.j,{id:"file-js",type:"file",accept:"image/jpeg,image/gif,image/png",onChange:e,ref:r}),a?u.a.createElement(x.default,null):u.a.createElement(p.k,{width:"200px",htmlFor:"file-js",margin:"10px 0px 0px 0px"},"BANNER UPLOAD"))),u.a.createElement(p.G,{margin:"10px 0px"},u.a.createElement(p.G,{dr:"row",margin:"10px 0px 0px 0px"},u.a.createElement(p.q,{width:"160px"},"TITLE"),u.a.createElement(p.D,{type:"text",value:i,onChange:function(e){return c(e.target.value)}})),u.a.createElement(p.G,{dr:"row",margin:"10px 0px 0px 0px",al:"flex-start",ju:"flex-start"},u.a.createElement(p.q,{width:"160px"},"CONTENT"),u.a.createElement(p.E,{height:"200px",value:l,onChange:function(e){return o(e.target.value)}})),u.a.createElement(p.G,{dr:"row",margin:"10px 0px 0px 0px"},u.a.createElement(p.q,{width:"160px"},"MOVE LINK"),u.a.createElement(p.D,{type:"text",value:b,onChange:function(e){return g(e.target.value)}})),u.a.createElement(p.G,{al:"flex-end",ju:"flex-end",margin:"10px 0px 0px 0px"},u.a.createElement(p.d,{kindOf:"update",onClick:M},"INFO UPDATE"))))))}var E=["BANNER 1","BANNER 2","BANNER 3","BANNER 4","BANNER 5"],j=(Object(i.d)(p.G)(b(),(function(e){return e.src})),n(105)),M=n(179);function O(){var e=Object(o.a)(["\n  mutation modifyMobileMainBannerImagePath($id: String!, $imagePath: String!) {\n    modifyMobileMainBannerImagePath(id: $id, imagePath: $imagePath)\n  }\n"]);return O=function(){return e},e}function h(){var e=Object(o.a)(["\n  mutation modifyMobileMainBanner(\n    $id: String!\n    $title: String!\n    $content: String!\n    $link: String!\n  ) {\n    modifyMobileMainBanner(\n      id: $id\n      title: $title\n      content: $content\n      link: $link\n    )\n  }\n"]);return h=function(){return e},e}function v(){var e=Object(o.a)(["\n  query getMobileMainBanner {\n    getMobileMainBanner {\n      _id\n      imagePath\n      title\n      content\n      link\n    }\n  }\n"]);return v=function(){return e},e}var B=Object(j.gql)(v()),N=Object(j.gql)(h()),k=Object(j.gql)(O()),w=n(745);t.default=function(){var e,t=Object(l.useState)(0),n=(d=Object(r.a)(t,2))[0],i=d[1],o=Object(l.useState)(!1),p=(O=Object(r.a)(o,2))[0],m=O[1],f=Object(l.useRef)(),s=Object(l.useState)(""),x=(t=Object(r.a)(s,2))[0],d=t[1],b=(o=Object(l.useState)(""),(O=Object(r.a)(o,2))[0]),E=(s=O[1],t=Object(l.useState)(""),(o=Object(r.a)(t,2))[0]),O=o[1],h=(t=Object(l.useState)(!0),t=(o=Object(r.a)(t,2))[0],o[1]),v=(o=Object(j.useQuery)(B)).data,T=o.refetch;o.loading||t&&(d(v.getMobileMainBanner[n].title),C=(""+v.getMobileMainBanner[n].content).split("<br />"),e="",C.map((function(t){e=e+t+"\n"})),s(e),O(v.getMobileMainBanner[n].link),h(!1));t=Object(j.useMutation)(N);var A=Object(r.a)(t,1)[0],C=Object(j.useMutation)(k),P=Object(r.a)(C,1)[0];t=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({variables:{id:v&&v.getMobileMainBanner[n]._id,title:x,content:b,link:E}});case 2:e.sent.data.modifyMobileMainBanner&&(M.b.info("MOBILE BANNER INFORMATION UPDATE"),T());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(a.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,w.a.uploadFile("SJPET/uploads/mobileMainBanner",t.target.files[0].name,t.target.files[0]);case 3:return a=e.sent,e.next=6,w.a.getSotragePath(a);case 6:return a=e.sent,e.next=9,P({variables:{id:v&&v.getMobileMainBanner[n]._id,imagePath:a}});case 9:e.sent.data.modifyMobileMainBannerImagePath?(M.b.info("MIDDLE BANNER IMAGE UPDATE"),T()):M.b.error("잠시 후 다시 시도해주세요."),f.current.value=null,m(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){h(!0)}),[n]),u.a.createElement(g,{currentTab:n,setCurrentTab:i,isLoading:p,fileRef:f,title:x,setTitle:d,content:b,setContent:s,link:E,setLink:O,mobileMainBannerDatum:v&&v.getMobileMainBanner,infoUpdateHandler:t,fileChangeHandler:C})}}}]);