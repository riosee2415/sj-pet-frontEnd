(window.webpackJsonp=window.webpackJsonp||[]).push([[53,8],{750:function(e,t,n){"use strict";n.r(t);var r=n(675),a=(r=n(1),n.n(r)),c=n(744);t.default=function(e){var t=e.tabs,n=e.currentTab,r=e.setCurrentTab;return a.a.createElement(c.G,{isTab:!0,margin:"0px 0px 40px 0px",dr:"row",al:"center",ju:"flex-start"},t&&t.map((function(e,t){return a.a.createElement(c.A,{isActive:n===t,key:t,onClick:function(){return r(t)}},e)})))}},813:function(e,t,n){"use strict";n.r(t);var r=n(676),a=n(678),c=n(677),i=n.n(c),u=(n(682),n(1)),l=n.n(u),p=n(104),s=(n(681),n(744)),o=n(762),x=n(750),f=(c=n(679),n.n(c)),b=(c=n(53),n(746)),d=n(680);function m(){var e=Object(p.a)(["\n  background-image: url(",");\n  background-size: cover;\n  background-position: center center;\n"]);return m=function(){return e},e}function g(e){var t=e.currentTab,n=e.setCurrentTab,r=e.isLoading,a=e.fileRef,c=e.currentThumbnail,i=e.currentTitle,u=e.fileChangeHandler;e=e.createBrandHandler;return Object(d.a)("ADMIN | 브랜드 등록"),l.a.createElement(s.F,{al:"flex-start",ju:"flex-start"},l.a.createElement(f.a,{right:!0},l.a.createElement(o.default,{text:"브랜드 등록"}),l.a.createElement(x.default,{tabs:j,currentTab:t,setCurrentTab:n})),l.a.createElement(s.G,{dr:"row",al:"flex-start",ju:"flex-start"},l.a.createElement(s.G,{width:"100%",minWidth:"400px",margin:"0px 10px 0px 0px"},l.a.createElement(s.C,null,l.a.createElement(s.B,{width:"100%"},"브랜드 이미지 정보")),l.a.createElement(s.G,{height:"630px",isBorder:!0,padding:"15px",ju:"flex-start"},l.a.createElement(s.n,{margin:"0px 0px 40px 0px"},l.a.createElement(s.o,{padding:"5px"},"이미지 사이즈는 1 : 1 비율로 업로드해주세요."),l.a.createElement(s.o,{padding:"5px"},"비율이 상이할 경우 화면에 비정상적으로 보일 수 있습니다.")),l.a.createElement(s.e,{margin:"0px 0px 20px 0px"},"썸네일 이미지"),l.a.createElement(s.p,{src:c,width:"350px",height:"350px",isBorder:!0,margin:"0px 0px 5px 0px"}),l.a.createElement(s.j,{id:"file-js",type:"file",accept:"image/jpeg,image/gif,image/png",onChange:u,ref:a}),r?l.a.createElement(b.default,null):l.a.createElement(s.k,{width:"350px",htmlFor:"file-js",margin:"0px 0px 55px 0px"},"THUMBNAIL UPLOAD"),l.a.createElement(s.G,{width:"500px",margin:"0px 75px 0px 0px",dr:"row"},l.a.createElement(s.r,null,"제목"),l.a.createElement(s.D,Object.assign({},i,{type:"text"})))))),l.a.createElement(s.G,{al:"flex-end",ju:"flex-end",margin:"20px 0px"},l.a.createElement(s.d,{kindOf:"create",onClick:e},"브랜드 등록")))}var j=["브랜드 관리"],h=(Object(c.d)(s.G)(m(),(function(e){return e.src})),n(105));function E(){var e=Object(p.a)(["\n  mutation createBrand($thumbnail: String!, $title: String!) {\n    createBrand(thumbnail: $thumbnail, title: $title)\n  }\n"]);return E=function(){return e},e}function v(){var e=Object(p.a)(["\n  query getBrand {\n    getBrand {\n      _id\n      title\n      thumbnail\n      isDelete\n    }\n  }\n"]);return v=function(){return e},e}Object(h.gql)(v());var O=Object(h.gql)(E()),w=n(179),T=n(745),k=n(749);t.default=function(){var e=Object(u.useState)(0),t=(p=Object(a.a)(e,2))[0],n=p[1],c=Object(u.useState)(!1),p=(e=Object(a.a)(c,2))[0],s=e[1],o=Object(u.useRef)(),x=(c=Object(u.useState)(""),(e=Object(a.a)(c,2))[0]),f=e[1],b=Object(k.a)(""),d=(c=Object(h.useMutation)(O),Object(a.a)(c,1)[0]);e=function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,T.a.uploadFile("SJPET/uploads/brand",t.target.files[0].name,t.target.files[0]);case 3:return n=e.sent,e.next=6,T.a.getSotragePath(n);case 6:f(e.sent),s(!1),o.current.value=null;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x&&x.trim()){e.next=3;break}return w.b.error("썸네일 이미지는 필수 입니다."),e.abrupt("return");case 3:if(b.value&&b.value.trim()){e.next=6;break}return w.b.error("제목은 필수 입니다."),e.abrupt("return");case 6:return e.next=8,d({variables:{thumbnail:x,title:b.value}});case 8:e.sent.data.createBrand?(w.b.info("CREATE BRAND!"),f(""),b.setValue("")):w.b.error("잠시 후 다시 시도해주세요.");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(g,{currentTab:t,setCurrentTab:n,isLoading:p,fileRef:o,currentThumbnail:x,currentTitle:b,fileChangeHandler:e,createBrandHandler:c})}}}]);