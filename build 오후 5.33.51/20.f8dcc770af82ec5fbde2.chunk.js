(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{816:function(e,t,n){"use strict";n.r(t);var a=n(678),r=(n(700),n(1)),c=n.n(r),i=n(33),l=n(105),u=n(104);function o(){var e=Object(u.a)(["\n  query getStoreTotalPageClient($limit: Int!) {\n    getStoreTotalPageClient(limit: $limit)\n  }\n"]);return o=function(){return e},e}function s(){var e=Object(u.a)(["\n  query getTotalStore {\n    getTotalStore {\n      _id\n      title\n      address\n      thumbnailPath\n      att\n      lnt\n      tel\n      workTime\n    }\n  }\n"]);return s=function(){return e},e}function b(){var e=Object(u.a)(["\n  query getAllStore($limit: Int!, $currentPage: Int!) {\n    getAllStore(limit: $limit, currentPage: $currentPage) {\n      _id\n      title\n      address\n      thumbnailPath\n      att\n      lnt\n      tel\n      workTime\n    }\n  }\n"]);return b=function(){return e},e}var f=Object(l.gql)(b()),g=Object(l.gql)(s()),O=Object(l.gql)(o()),j=n(691),m=n(179),S=Object(i.a)((function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(4),n.e(36)]).then(n.bind(null,788))}));t.default=function(e){var t=Object(r.useState)(9),n=(d=Object(a.a)(t,2))[0],i=Object(r.useState)(null),u=(P=Object(a.a)(i,2))[0],o=P[1],s=Object(r.useState)(0),b=(t=(e=Object(a.a)(s,2))[0],e[1]),d=Object(r.useState)(0),h=(i=Object(a.a)(d,2))[0],v=i[1],P=Object(r.useState)(""),T=(e=(s=Object(a.a)(P,2))[0],s[1]),p=(d=Object(r.useState)(5),P=(i=Object(a.a)(d,2))[0],i[1]),w=(d=(s=Object(l.useQuery)(g)).data,s.refetch),q=(s=(i=Object(l.useQuery)(f,{variables:{currentPage:t,limit:n}})).data,i.refetch),y=(i=Object(l.useQuery)(O,{variables:{limit:n}})).data,$=i.refetch;return Object(r.useEffect)((function(){q(),$(),w(),j.animateScroll.scrollTo(0)}),[]),Object(r.useEffect)((function(){if(y){for(var e=[],t=0;t<y.getStoreTotalPageClient;t++)e.push(t);o(e)}}),[y]),Object(r.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("info"));e&&T(e),sessionStorage.removeItem("info")}),[]),Object(r.useEffect)((function(){j.animateScroll.scrollTo(0)}),[e]),c.a.createElement(S,{limit:n,pages:u,currentPage:t,currentList:h,scale:P,setScale:p,store:e,sDatum:s&&s.getAllStore,aDatum:d&&d.getTotalStore,changePageHandler:function(e){b(e)},prevAndNextPageChangeHandler:function(e){var t=h;e<0?m.b.error("첫 페이지 입니다."):u.length-1<e?m.b.error("마지막 페이지 입니다."):(5*(h+1)===e?t+=1:5*h-1===e&&--t,v(t),b(e))},changeScaleHandler:function(e){p(e)},dataLinkHandler:function(e){T(e)}})}}}]);