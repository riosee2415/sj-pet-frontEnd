(window.webpackJsonp=window.webpackJsonp||[]).push([[29,3,6,8,9,54],{745:function(e,t,a){"use strict";var n=a(676),r=a(677),c=a.n(r),i=a(688);r=a.n(i),i=a(236);a.n(i).a.config(),r.a.initializeApp({apiKey:"AIzaSyCgF4gjyoYzeRKi9avMHtnTjG-1rwHu5Ho",authDomain:"storage-4leaf.firebaseapp.com",databaseURL:"https://storage-4leaf.firebaseio.com",storageBucket:"storage-4leaf.appspot.com"});var l=r.a.storage().ref();t.a={getSotragePath:function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.child(t);case 2:return a=e.sent,e.next=5,a.getDownloadURL();case 5:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uploadFile:function(){var e=Object(n.a)(c.a.mark((function e(t,a,n){var r,i,u,o,s,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(d=new Date).getFullYear()+"",i=1+d.getMonth()+"",u=d.getDate()+"",o=d.getHours()+"",s=d.getMinutes()+"",d=d.getSeconds()+"",d=r+i+u+o+s+d+a,e.prev=9,e.next=12,l.child("".concat(t,"/").concat(d)).put(n);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log(e.t0);case 17:return e.abrupt("return","".concat(t,"/").concat(d));case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteFile:function(){var e=Object(n.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"/").concat(a),r=0,e.prev=2,e.next=5,l.child(n).delete();case 5:r=1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}(),fileDownload:function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.child("/DREAM/uploads/storyBoard/202011223597thumb_520390_1598216467_83.jpg").getDownloadURL().then((function(e){var t=new XMLHttpRequest;t.responseType="blob",t.onload=function(e){},t.open("GET",e),t.send()})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},750:function(e,t,a){"use strict";a.r(t);var n=a(675),r=(n=a(1),a.n(n)),c=a(744);t.default=function(e){var t=e.tabs,a=e.currentTab,n=e.setCurrentTab;return r.a.createElement(c.G,{isTab:!0,margin:"0px 0px 40px 0px",dr:"row",al:"center",ju:"flex-start"},t&&t.map((function(e,t){return r.a.createElement(c.A,{isActive:a===t,key:t,onClick:function(){return n(t)}},e)})))}},756:function(e,t,a){"use strict";a.r(t);var n=a(676),r=a(238),c=a(239),i=a(130),l=a(241),u=a(240),o=a(237),s=a(677),d=a.n(s),p=(s=a(682),s=a(1),a.n(s)),f=(s=a(695),a.n(s)),m=(a(696),a(745));(a=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=Array(n),l=0;l<n;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),Object(o.a)(Object(i.a)(e),"_editorChangeHandler",(function(t){e.props.editorChangeHandler(t)})),e}return Object(c.a)(a,[{key:"render",value:function(){return p.a.createElement(f.a,{className:"editor__form ".concat(this.props.componentHeight||""),theme:"snow",value:this.props.value||"",placeholder:this.props.placeholder||"",readOnly:this.props.readOnly||!1,modules:a.modules,formats:a.formats,onChange:this._editorChangeHandler})}}]),a}(p.a.Component)).modules={toolbar:{container:[["bold","italic","underline","strike","blockquote"],[{size:["small",!1,"large","huge"]},{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{align:[]}],["link","image"],["clean"]],handlers:{image:function(){var e=document.createElement("INPUT");e.setAttribute("type","file"),e.click(),e.addEventListener("change",Object(n.a)(d.a.mark((function t(){var a,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(n=e.files[0]).name,t.next=4,m.a.uploadFile("SJPET/uploads/editorImages",a,n);case 4:return r=t.sent,t.next=7,m.a.getSotragePath(r);case 7:n=t.sent,(r=document.createElement("IMG")).setAttribute("src",n),document.getElementsByClassName("ql-editor")[0].appendChild(r);case 12:case"end":return t.stop()}}),t)}))))}}},clipboard:{matchVisual:!1}},a.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","align","color","background"],t.default=a},762:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(744);t.default=function(e){return r.a.createElement(c.f,null,e.text)}},797:function(e,t,a){"use strict";function n(e){var t=e.currentTab,a=e.setCurrentTab,n=e.newValue,r=e.setNewValue,c=e.editContent,i=e.setEditContent,l=e.title,u=e.setTitle,j=e.type,F=e.setType,T=e.openDialog,k=e.currentAnswer,D=e.setCurrentAnswer,A=e.faqTypeDatum,B=e.faqDatum,S=e.enterKeyHandler,H=e.registerFaqTypeHandler,$=e.deleteFaqHandler,_=e.createFaqHandler,G=e.faqDeleteHandler,N=e.dialogToggle,Q=e.modifyAnswerHandler;return Object(O.a)("ADMIN | FAQ"),o.a.createElement(s.F,{al:"flex-start",ju:"flex-start"},o.a.createElement(f.a,{right:!0},o.a.createElement(d.default,{text:"자주묻는 질문 관리"}),o.a.createElement(p.default,{tabs:q,currentTab:t,setCurrentTab:a})),0===t&&o.a.createElement(s.G,null,o.a.createElement(s.G,{margin:"0px 0px 5px 0px"},o.a.createElement(s.C,null,o.a.createElement(s.B,{width:"5%"},"번호"),o.a.createElement(s.B,{width:"10%"},"유형"),o.a.createElement(s.B,{width:"65%"},"질문내용"),o.a.createElement(s.B,{width:"10%"},"삭제"),o.a.createElement(s.B,{width:"10%"},"답변보기"))),o.a.createElement(s.G,{isBorder:!0,height:"600px",al:"flex-start",ju:"flex-start",isScroll:!0},B?0===B.length?o.a.createElement(s.C,{isData:!0},o.a.createElement(s.B,{isData:!0,width:"100%"},"조회 된 데이터가 없습니다.")):B.map((function(e,t){return o.a.createElement(f.a,{key:e._id,delay:50*t},o.a.createElement(s.C,{isData:!0},o.a.createElement(s.B,{isData:!0,width:"5%"},t+1),o.a.createElement(s.B,{isData:!0,width:"10%"},e.type),o.a.createElement(s.B,{isData:!0,width:"65%"},e.question),o.a.createElement(s.B,{isData:!0,width:"10%",isSvg:!0},o.a.createElement(b.e,{color:h.a.delete_B_C,size:20,onClick:function(){return G(e._id)}})),o.a.createElement(s.B,{isData:!0,width:"10%"},o.a.createElement(s.d,{width:"100%",height:"25px",onClick:function(){return N(e.answer,e._id)}},"답변보기"))))})):o.a.createElement(m.default,null))),1===t&&o.a.createElement(s.G,{margin:"40px 0px"},o.a.createElement(s.G,{dr:"row",margin:"0px 0px 15px 0px"},o.a.createElement(s.q,{width:"70px",height:"30px"},"질문"),o.a.createElement(s.D,{height:"30px",value:l,onChange:function(e){return u(e.target.value)}})),o.a.createElement(s.G,{dr:"row",margin:"0px 0px 15px 0px"},o.a.createElement(s.q,{width:"70px",height:"30px"},"유형"),o.a.createElement(s.b,{width:"100%",value:j,onChange:function(e){return F(e.target.value)},defaultValue:""},o.a.createElement(s.c,{value:""},"--선택--"),A?0===A.length?o.a.createElement(s.C,{isData:!0},o.a.createElement(s.B,{isData:!0,width:"100%"},"조회 된 데이터가 없습니다.")):A.map((function(e,t){return o.a.createElement(s.c,{key:t,value:e.typeName},e.typeName)})):o.a.createElement(m.default,null))),o.a.createElement(s.G,{dr:"row",margin:"0px 0px 15px 0px",al:"flex-start"},o.a.createElement(s.q,{width:"70px",height:"30px"},"답변"),o.a.createElement(s.G,null,o.a.createElement(g.default,{value:c,componentHeight:"h-400",editorChangeHandler:function(e){return i(e)}}))),o.a.createElement(s.G,{al:"flex-end",ju:"flex-end"},o.a.createElement(s.d,{kindOf:"create",onClick:_},"FAQ 등록"))),2===t&&o.a.createElement(s.G,null,o.a.createElement(s.G,{margin:"0px 0px 5px 0px"},o.a.createElement(s.C,null,o.a.createElement(s.B,{width:"5%"},"번호"),o.a.createElement(s.B,{width:"85%"},"유형명"),o.a.createElement(s.B,{width:"10%"},"삭제"))),o.a.createElement(s.G,{isBorder:!0,height:"400px",al:"flex-start",ju:"flex-start",isScroll:!0},A?0===A.length?o.a.createElement(s.C,{isData:!0},o.a.createElement(s.B,{width:"100%",isData:!0},"조회 된 데이터가 없습니다.")):A.map((function(e,t){return o.a.createElement(f.a,{bottom:!0,key:e._id,delay:50*t},o.a.createElement(s.C,{isData:!0},o.a.createElement(s.B,{isData:!0,width:"5%"},t+1),o.a.createElement(s.B,{isData:!0,width:"85%"},e.typeName),o.a.createElement(s.B,{isData:!0,width:"10%",isSvg:!0},o.a.createElement(b.e,{color:h.a.delete_B_C,size:20,onClick:function(){return $(e._id)}}))))})):o.a.createElement(m.default,null)),o.a.createElement(s.G,{dr:"row",al:"flex-end",ju:"flex-end",margin:"10px 0px"},o.a.createElement(s.D,{width:"300px",margin:"0px 10px 0px 0px",height:"25px",placeholder:"유형명...",value:n,onChange:function(e){return r(e.target.value)},onKeyDown:S}),o.a.createElement(s.d,{kindOf:"create",height:"25px",onClick:H},"등록"))),o.a.createElement(w.a,{open:T,TransitionComponent:C,keepMounted:!0,onClose:function(){return N()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",fullWidth:!0,maxWidth:"lg"},o.a.createElement(y.a,{id:"alert-dialog-slide-title"},"FAQ 답변 상세보기"),o.a.createElement(v.a,null,o.a.createElement(g.default,{value:k,componentHeight:"h-300",editorChangeHandler:function(e){return D(e)}})),o.a.createElement(x.a,null,o.a.createElement(E.a,{onClick:function(){return N()},color:"secondary"},"닫기"),o.a.createElement(E.a,{onClick:function(){return Q()},color:"primary"},"저장 후 닫기"))))}a.r(t);var r=a(676),c=a(678),i=a(677),l=a.n(i),u=a(1),o=a.n(u),s=(a(681),a(675),a(744)),d=a(762),p=a(750),f=(i=a(679),a.n(i)),m=a(746),b=a(687),h=a(234),g=a(756),E=a(739),w=a(736),x=a(738),v=a(737),y=a(743),j=a(673),O=a(680),q=["FAQ 관리","FAQ 등록","FAQ유형 관리"],C=o.a.forwardRef((function(e,t){return o.a.createElement(j.a,Object.assign({direction:"up",ref:t},e))})),F=a(105),T=a(104);function k(){var e=Object(T.a)(["\n  mutation modifyFaq($id: String!, $answer: String!) {\n    modifyFaq(id: $id, answer: $answer)\n  }\n"]);return k=function(){return e},e}function D(){var e=Object(T.a)(["\n  mutation deleteFaq($id: String!) {\n    deleteFaq(id: $id)\n  }\n"]);return D=function(){return e},e}function A(){var e=Object(T.a)(["\n  mutation createFaq(\n    $question: String!\n    $answer: String!\n    $sort: Int!\n    $type: String!\n  ) {\n    createFaq(question: $question, answer: $answer, sort: $sort, type: $type)\n  }\n"]);return A=function(){return e},e}function B(){var e=Object(T.a)(["\n  mutation deleteFaqType($id: String!) {\n    deleteFaqType(id: $id)\n  }\n"]);return B=function(){return e},e}function S(){var e=Object(T.a)(["\n  mutation createFaqType($typeName: String!) {\n    createFaqType(typeName: $typeName)\n  }\n"]);return S=function(){return e},e}function H(){var e=Object(T.a)(["\n  query getFaq {\n    getFaq {\n      _id\n      sort\n      type\n      question\n      answer\n    }\n  }\n"]);return H=function(){return e},e}function $(){var e=Object(T.a)(["\n  query getFaqType {\n    getFaqType {\n      _id\n      typeName\n    }\n  }\n"]);return $=function(){return e},e}var _=Object(F.gql)($()),G=Object(F.gql)(H()),N=Object(F.gql)(S()),Q=Object(F.gql)(B()),M=Object(F.gql)(A()),L=Object(F.gql)(D()),R=Object(F.gql)(k()),P=a(179),z=a(685);a(686),t.default=function(){function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";y(e),O(t),C(!q)}var t=Object(u.useState)(0),a=(h=Object(c.a)(t,2))[0],i=h[1],s=Object(u.useState)(!1),d=(f=Object(c.a)(s,2))[0],p=(t=Object(u.useState)(""),s=(h=Object(c.a)(t,2))[0],h[1]),f=Object(u.useState)(""),m=(t=Object(c.a)(f,2))[0],b=t[1],h=Object(u.useState)(""),g=(f=Object(c.a)(h,2))[0],E=f[1],w=(t=Object(u.useState)(""),(h=Object(c.a)(t,2))[0]),x=h[1],v=(f=Object(u.useState)(""),(t=Object(c.a)(f,2))[0]),y=t[1],j=(h=Object(u.useState)(""),(f=Object(c.a)(h,2))[0]),O=f[1],q=(t=Object(u.useState)(!1),(h=Object(c.a)(t,2))[0]),C=h[1],T=(t=(f=Object(F.useQuery)(_)).data,f.refetch),k=(h=Object(F.useQuery)(G)).data,D=h.refetch,A=(f=Object(F.useMutation)(N,{variables:{typeName:s}}),Object(c.a)(f,1)[0]),B=(h=Object(F.useMutation)(Q),Object(c.a)(h,1)[0]),S=(f=Object(F.useMutation)(M),Object(c.a)(f,1)[0]),H=(h=Object(F.useMutation)(L),Object(c.a)(h,1)[0]),$=(f=Object(F.useMutation)(R),Object(c.a)(f,1)[0]),I=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:e.sent.data.createFaqType?(P.b.info("CREATE NEW FAQ TYPE!"),T(),p("")):P.b.error("유형명을 기입 해 주시길 바랍니다.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({variables:{id:t}});case 2:e.sent.data.deleteFaqType?(P.b.info("DELETE FAQ TYPE!"),T()):P.b.error("잠시 후 다시 시도해주세요.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=(h=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({variables:{question:m,answer:w,sort:k&&k.getFaq.length+1,type:g}});case 2:e.sent.data.createFaq?(P.b.info("CREATE FAQ!"),i(0),b(""),E(""),x(""),D()):P.b.error("질문과 답변을 작성해 주시길 바랍니다.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({variables:{id:t}});case 2:e.sent.data.deleteFaq?(P.b.info("DELETE FAQ DATA!"),D()):P.b.error("잠시 후 다시 시도해주세요.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());f=function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$({variables:{id:j,answer:v}});case 2:t.sent.data.modifyFaq?(P.b.info("UPDATE FAQ DATA!"),D(),e()):P.b.error("잠시 후 다시 시도해주세요.");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){T()}),[a]),o.a.createElement(n,{currentTab:a,setCurrentTab:i,isLoading:d,newValue:s,setNewValue:p,editContent:w,setEditContent:x,title:m,setTitle:b,type:g,setType:E,openDialog:q,currentAnswer:v,setCurrentAnswer:y,faqTypeDatum:t&&t.getFaqType,faqDatum:k&&k.getFaq,enterKeyHandler:function(e){13===e.keyCode&&I()},registerFaqTypeHandler:I,deleteFaqHandler:function(e){Object(z.confirmAlert)({title:"DELETE FAQ TYPE",message:"선택하신 유형을 삭제하시겠습니까?",buttons:[{label:"취소",onClick:function(){return!1}},{label:"확인",onClick:function(){return V(e)}}]})},createFaqHandler:h,faqDeleteHandler:function(e){Object(z.confirmAlert)({title:"DELETE FAQ",message:"선택하신 질문을 삭제하시겠습니까?",buttons:[{label:"취소",onClick:function(){return!1}},{label:"확인",onClick:function(){return K(e)}}]})},dialogToggle:e,modifyAnswerHandler:f})}}}]);