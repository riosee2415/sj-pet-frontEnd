(window.webpackJsonp=window.webpackJsonp||[]).push([[46,8],{750:function(e,t,n){"use strict";n.r(t);var a=n(675),r=(a=n(1),n.n(a)),i=n(744);t.default=function(e){var t=e.tabs,n=e.currentTab,a=e.setCurrentTab;return r.a.createElement(i.G,{isTab:!0,margin:"0px 0px 40px 0px",dr:"row",al:"center",ju:"flex-start"},t&&t.map((function(e,t){return r.a.createElement(i.A,{isActive:n===t,key:t,onClick:function(){return a(t)}},e)})))}},793:function(e,t,n){"use strict";function a(e){var t=e.currentTab,n=e.setCurrentTab,a=e.isLoading,r=e.fileRef,i=e.title,c=e.setTitle,l=e.content,u=e.setContent,E=e.link,b=e.setLink,j=e.mainBannerDatum,h=e.infoUpdateHandler;e=e.fileChangeHandler;return Object(d.a)("ADMIN | 메인베너"),p.a.createElement(o.F,{minWidth:"1000px",al:"flex-start",ju:"flex-start"},p.a.createElement(f.a,{right:!0},p.a.createElement(m.default,{text:"메인베너 관리"}),p.a.createElement(x.default,{tabs:g,currentTab:t,setCurrentTab:n})),p.a.createElement(f.a,{bottom:!0},p.a.createElement(o.G,{minWidth:"1344px",al:"flex-start",ju:"flex-start"},p.a.createElement(o.G,null,p.a.createElement(o.n,{margin:"10px 0px",padding:"10px 0px"},p.a.createElement(o.o,{padding:"0px 10px",margin:"5px 0px"},"이미지 사이즈(비율)은 가로 1920px, 세로 500px을 권장합니다."),p.a.createElement(o.o,{padding:"0px 10px",margin:"5px 0px"},"사진 이미지 비율이 상이할 경우 화면에서 출력될 때 올바르게 출력되지 않을 수 있습니다."))),p.a.createElement(o.G,null,p.a.createElement(o.p,{width:"1344px",height:"350px",margin:"0px auto",isBorder:!0,src:j&&j[t].imagePath}),p.a.createElement(o.G,{width:"1344px",al:"flex-end",ju:"flex-end",margin:"10px 0px"},p.a.createElement(o.j,{id:"file-js",type:"file",accept:"image/jpeg,image/gif,image/png",onChange:e,ref:r}),a?p.a.createElement(s.default,null):p.a.createElement(o.k,{width:"200px",htmlFor:"file-js",margin:"10px 0px 0px 0px"},"BANNER UPLOAD"))),p.a.createElement(o.G,{margin:"10px 0px"},p.a.createElement(o.G,{dr:"row",margin:"10px 0px 0px 0px"},p.a.createElement(o.q,{width:"160px"},"TITLE"),p.a.createElement(o.D,{type:"text",value:i,onChange:function(e){return c(e.target.value)}})),p.a.createElement(o.G,{dr:"row",margin:"10px 0px 0px 0px",al:"flex-start",ju:"flex-start"},p.a.createElement(o.q,{width:"160px"},"CONTENT"),p.a.createElement(o.E,{height:"200px",value:l,onChange:function(e){return u(e.target.value)}})),p.a.createElement(o.G,{dr:"row",margin:"10px 0px 0px 0px"},p.a.createElement(o.q,{width:"160px"},"MOVE LINK"),p.a.createElement(o.D,{type:"text",value:E,onChange:function(e){return b(e.target.value)}})),p.a.createElement(o.G,{al:"flex-end",ju:"flex-end",margin:"10px 0px 0px 0px"},p.a.createElement(o.d,{kindOf:"update",onClick:h},"INFO UPDATE"))))))}n.r(t);var r=n(676),i=n(678),c=n(677),l=n.n(c),u=(n(690),n(675),n(693),n(682),n(1)),p=n.n(u),o=n(744),m=n(762),x=n(750),f=(c=n(679),n.n(c)),s=n(746),d=n(680),g=["BANNER - 1","BANNER - 2","BANNER - 3","BANNER - 4","BANNER - 5"],E=n(105),b=n(179),j=n(104);function h(){var e=Object(j.a)(["\n  mutation modifyMainBannerImagePath($id: String!, $imagePath: String!) {\n    modifyMainBannerImagePath(id: $id, imagePath: $imagePath)\n  }\n"]);return h=function(){return e},e}function O(){var e=Object(j.a)(["\n  mutation modifyMainBanner(\n    $id: String!\n    $title: String!\n    $content: String!\n    $link: String!\n  ) {\n    modifyMainBanner(id: $id, title: $title, content: $content, link: $link)\n  }\n"]);return O=function(){return e},e}function B(){var e=Object(j.a)(["\n  query getMainBanner {\n    getMainBanner {\n      _id\n      imagePath\n      title\n      content\n      link\n    }\n  }\n"]);return B=function(){return e},e}var v=Object(E.gql)(B()),N=Object(E.gql)(O()),M=Object(E.gql)(h()),w=n(745);t.default=function(){var e,t=Object(u.useState)(0),n=(d=Object(i.a)(t,2))[0],c=d[1],o=Object(u.useState)(!1),m=(h=Object(i.a)(o,2))[0],x=h[1],f=Object(u.useState)(""),s=(t=Object(i.a)(f,2))[0],d=t[1],g=(o=Object(u.useState)(""),(h=Object(i.a)(o,2))[0]),j=(f=h[1],t=Object(u.useState)(""),(o=Object(i.a)(t,2))[0]),h=o[1],O=(t=Object(u.useState)(!0),t=(o=Object(i.a)(t,2))[0],o[1]),B=Object(u.useRef)(),T=(o=Object(E.useQuery)(v)).data,k=o.refetch;o.loading||t&&(d(T.getMainBanner[n].title),C=(""+T.getMainBanner[n].content).split("<br />"),e="",C.map((function(t){e=e+t+"\n"})),f(e),h(T.getMainBanner[n].link),O(!1));t=Object(E.useMutation)(N);var A=Object(i.a)(t,1)[0],C=Object(E.useMutation)(M),P=Object(i.a)(C,1)[0];t=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({variables:{id:T&&T.getMainBanner[n]._id,title:s,content:g,link:j}});case 2:e.sent.data.modifyMainBanner&&(b.b.info("MAIN BANNER INFORMATION UPDATE"),k());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,w.a.uploadFile("SJPET/uploads/mainBanner",t.target.files[0].name,t.target.files[0]);case 3:return a=e.sent,e.next=6,w.a.getSotragePath(a);case 6:return a=e.sent,e.next=9,P({variables:{id:T&&T.getMainBanner[n]._id,imagePath:a}});case 9:e.sent.data.modifyMainBannerImagePath?(b.b.info("MAIN BANNER IMAGE UPDATE"),k()):b.b.error("잠시 후 다시 시도해주세요."),B.current.value=null,x(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){O(!0)}),[n]),p.a.createElement(a,{currentTab:n,setCurrentTab:c,isLoading:m,title:s,setTitle:d,content:g,setContent:f,link:j,setLink:h,fileRef:B,mainBannerDatum:T&&T.getMainBanner,infoUpdateHandler:t,fileChangeHandler:C})}}}]);